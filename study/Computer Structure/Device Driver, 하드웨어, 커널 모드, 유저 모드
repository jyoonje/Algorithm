Device Driver, 하드웨어, 커널 모드, 유저 모드

Device Driver(디바이스 드라이버)는 컴퓨터의 운영체제와 하드웨어 장치 간의 통신을 담당한느 소프트웨어 구성 요소이다.

디바이스 드라이버는 특정 하드웨어 장치(예: 프린터, 그래픽 카드, NIC 등)에 대 한 제어 및 데이터 전송을 수행한다.

운영체제는 디바이스 드라이버를 통해 하드웨어 장치에 명령을 전달하고, 장치로부터 데이터를 받아 처리한다.


- 하드웨어와 커널 모드, 유저 모드간의 관계

모드:  컴퓨터 시스템에서 특정 작업이나 기능이 실행되는 환경이나 상태를 의미한다.
커널 모드'와 '유저 모드'는 각각 컴퓨터 시스템에서 작업이 수행되는 두 가지 다른 실행 환경을 나타내며, 이 두 모드는 주로 CPU의 작동 방식을 정의하는데 사용된다.

컴퓨터 시스템에서 운영체제는 두 가지 모드에서 작동할 수 있다: 커널 모드와 유저 모드.
이 두 모드는 시스템 안정성과 보안을 유지하기 위해 존재하며, 각 모드에서 수행할 수 있는 작업이 다르다.

1. 하드웨어
하드웨어는 컴퓨터의 물리적 구성 요소로, CPU, 메모리, 저장 장치, 네트워크 장치, 입력 장치 등을 포함한다.
하드웨어는 직접적으로 사용자와 상호 작용하지 않으며, 운영체제를 통해 제어된다.


2. 커널 모드
커널 모드는 운영체제가 하드웨어와 직접 상호작용할 수 있는 권한을 갖는 모드이다.
커널 모드에서는 시스템의 모든 자원(CPU, 메모리, 디스크 등)에 대한 완전한 접근 권한을 갖는다.

커널 모드에서 수행되는 주요 작업들은 다음과 같다.
1) 하드웨어 제어: 커널 모드는 하드웨어 장치의 작동을 직접 제어한다.
2) 시스템 리소스 관리: CPU 스케줄링, 메모리 관리, 디스크 I/O등을 관리한다.
3) 디바이스 드라이버 실행: 디바이스 드라이버는 커널 모드에서 실행되며, 하드웨어 장치와의 통신을 담당한다.
4) 시스템 호출 처리: 유저 모드에서 발생한 시스템 호출을 처리한다.


3. 유저 모드
유저 모드는 응용 프로그램(애플리케이션 소프트웨어)이 실행되는 모드이다. 유저 모드에서는 시스템 자원에 대한 직접적인 접근이 제한되며, 시스템 호출을 통해서만 커널에 요청을 전달할 수 있다.

유저 모드에서 수행되는 주요 작업들은 다음과 같다.
1) 응용 프로그램 실행: 웹 브라우저, 오피스 프로그램, 게임 등 사용자가 직접 실행하는 프로그램들이 유저 모드에서 실행된다.
2) 제한된 리소스 접근: 유저 모드에서는 커널 모드에서 제공한느 API를 통해서만 시스템 자원에 접근할 수 있다.
3) 안정성 보장: 유저 모드에서 오류가 발생해도 시스템 전체에 영향을 미치지 않도록 설계되어 있다.


4. 커널 모드와 유저 모드 간의 상호 작용
유저 모드와 커널 모드는 시스템 호출 인터페이스를 통해 상호 작용한다.
유저 모드에서 실행되는 응용 프로그램이 시스템 자원에 접근하거나 특정 작업을 수행하기 위해서는 시스템 호출을 통해 커널 모드에 요청을 전달해야 한다.
커널은 이 요청을 처리하고, 결과를 유저 모드로 반환한다.

|----------------------|
|   Application Layer  |  <--- 유저 모드 (User Mode)
|----------------------|
|      System API      |  <--- 시스템 호출 인터페이스 (System Call Interface)
|----------------------|
|      Kernel Mode     |  <--- 커널 모드 (Kernel Mode)
|----------------------|
|     Device Drivers   |  <--- 디바이스 드라이버
|----------------------|
|      Hardware        |  <--- 하드웨어
|----------------------|

이 구조에서, 응용 프로그램은 시스템 호출을 통해 커널 모드로 전환되며, 커널 모드에서는 디바이스 드라이버를 통해 하드웨어와 상호작용한다.
디바이스 드라이버는 하드웨어에 명령을 전달하고, 하드웨어의 상태를 모니터링하며, 데이터를 주고받는다.


5. 운영체제
운영체제는 컴퓨터 시스템의 자원을 관리하고 사용자와 하드웨어 간의 상호작용을 중개하는 소프트웨어이다.
운영체제는 프로세스 관리, 메모리 관리, 파일 시스템 관리, 입출력 시스템 관리 등의 주요기능이 있다.

운영체제는 커널 모드, 유저 모드 두 가지 모드에서 작동하지만, 주로 커널 모드에서 실행된다. 응용 프로그램이 필요로 하는 시스템 자원에 접근할 때는 유저 모드에서 커널 모드로 전환하여 작업을 수행하고 다시 유저 모드로 돌아오는 방식으로 작동한다.











