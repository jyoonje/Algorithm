

## 1. 로컬 머신의 IP, Docker 컨테이너의 IP

#### __로컬 머신에서 Docker를 사용하여 프로그램을 실행할 떄, 로컬 머신과 Docker 컨테이너의 IP 주소는 서로 다르다. 각각의 IP 주소는 다음과 같이 구분된다.__


1. 로컬 머신의 IP 주소:

-   로컬 머신 자체는 호스트 시스템으로, `192.168.x.x` 또는 `10.x.x.x` 와 같은 사설 IP 주소 범위에서 할당된다. ipconfig 명령어를 통해 확인 가능하다.


2. Docker 컨테이너의 IP 주소:
- Docker는 기본적으로 __브릿지 네트워크__(bridge network) 를 통해 컨테이너를 연결한다.
  Docker 컨테이너는 독립적인 IP 주소를 가지며, 이는 Docker과 관리하는 네트워크 범위 내에서 할당된다. 예를 들어 `172.17.x.x`와 같은 IP 주소를 사용할 수 있다.

-  컨테이너 내부에서 명령어를 통해 IP 주소를 확인할 수 있다.
 ```
 docker exec <컨테이넘 이름 또는 id> hostname -I
```

- 로컬 머신과 Docker 컨테이너 간의 통신은 기본적으로 네트워크 브릿지를 통해 이루어지며,
Docker가 포트를 매핑하는 방식으로 로컬 머신에서 컨테이너에 접근할 수 있다. 컨테이너의 내부 IP는 로컬 머신 네트워크와는 독립적이며, 포트 매핑을 통해 로컬 머신의 특정 포트를 컨테이너의 포트와 연결해야 로컬에서 접근 가능한다.


---


## 2. Bridge Network

#### __Bridge network는 Docker에서 기본적으로 제공하는 네트워크 유형 중 하나로, 여러 Docker 컨테이너들이 동일한 호스트 시스템 내에서 서로 통신할 수 있도록 하는 가상 네트워크이다.
#### 각 컨테이너는 이 네트워크를 통해 독립적인 IP 주소를 받아 통신하게 되며, 컨테이너끼리도 컨테이너 이름 또는 IP 주소를 통해 서로 접근할 수 있다.


### Bridge Network의 주요 특징:

1. 기본 네트워크
   - Docker 컨테이너 실행 시 기본적으로 `bridge` 네트워크를 사용한다. 사용자가 특별히 네트워크를 지정하지 않으면, 모든 컨테이너는 이 `bridge` 네트워크에 연결된다.

2. 컨테이너 간 통신: 
   - 같은 bridge network에 속한 컨테이너들은 **컨테이너 이름**을 통해 서로 통신할 수 있다. DNS 서비스가 제공되기 때문에, IP 주소 대신 컨테이너 이름으로 접근하는 것이 일반적이다.

3. 호스트와의 통신: 
   - 로컬 호스트에서 실행 중인 컨테이너에 접근하려면 컨테이너 생성 시 **포트 매핑**을 통해 컨테이너의 포트를 로컬 머신의 포트에 연결해야 한다. 예를 들어 `-p 8080:80` 옵션을 사용하면 로컬 머신의 8080 포트로 들어오는 요청이 컨테이너의 80 포트로 전달된다.

4. 외부 네트워크와 격리:
   -  기본적으로 `bridge` 네트워크에 있는 컨테이너는 외부 네트워크(인터넷 등)와 격리되어 있으며, 외부에서 직접 접근할 수 없다.

5. 사용 예시:
   - 여러 개의 컨테이너를 같은 `bridge` 네트워크에 연결해 하나의 서비스를 구성할 수 있다. 예를 들어, Node.js 애플리케이션과 PostgreSQL 데이터베이스를 같은 네트워크에 연결하여 애플리케이션에서 데이터베이스에 접근하게 할 수 있다.
```
const dbConnection = postgresql.createConnection({
   host: 'db_container_name', // 데이터베이스 컨테이너의 이름
   user: 'root',
   password: 'password',
   database: 'mydb'
});
```

### 요약

- **Bridge network**는 여러 Docker 컨테이너가 하나의 호스트 내에서 서로 통신하도록 돕는 기본 네트워크 유형이다.
- 컨테이너 간에는 **컨테이너 이름**으로 접근 할 수 있고, 로컬 머신에서 컨테이너에 접근하려면 **포트 매핑**을 통해 연결된다. 
- 네트워크는 기본적으로 외부로부터 격리되지만, 필요한 경우 외부와 연결할 수 있다.

