[Docker] 볼륨과 마운트의 개념 정리


- 볼륨(Volume)
 > 볼륨의 가장 기본적인 명령어: -v 또는 --volume

1) 개념

볼륨은 도커 컨테이너에서 데이터를 저장하고 공유하기 위한 디렉터리 또는 파일이다.
도커 볼륨은 컨테이너의 파일 시스템과 별도로 관리되는데, 이 개념이 매우 중요하다.

특정 볼륨에서는 컨테이너가 삭제되더라도 데이터는 유지되는데, 이 말은 즉슨 데이터의 영속화가 가능하게 된다는 것이다.
더 나아가 다른 컨테이너를 실행할 때, 동일한 경로를 설정하여 컨테이너 간 리소스를 공유할 수 있는 기능또한 제공한다.


2) 익명 볼륨

별도의 이름이나 식별자 없이 도커 엔진에 의해 자동으로 생성되는 볼륨이다.
컨테이너를 실행할 때 옵션을 사용하여 호스트(ex: 로컬 머신) 경로를 지정하지 않으면 익명 볼륨이 자동으로 생성되는데,
익명 볼륨은 임시적인 데이터나 일시적인 파일 시스템에 사용될 때 유용하고, 컨테이너가 삭제되면 익명 볼륨에 저장된 데이터도 함께 삭제된다.


3) 명명 볼륨

명명된 볼륨은 볼륨에 고유한 이름을 지정하여 생성하는 볼륨이다.
호스트 경로 대신 {볼륨이름:컨테이너경로} 형식으로 지정한다.
컨테이너를 삭제해도 명명된 볼륨은 삭제되지 않으므로 데이터를 보존할 수 있다.
다른 컨테이너가 해당 볼륨에 접근하고 싶을 때, Docker run을 하면서 볼륨 경로의 값을 넣어주면 컨테이너간 데이터를 공유할 수 있다.


- 마운트(Mount)
 
1) 개념
어떤 저장소(파일 시스템)를 특정 경로에 연결하는 것이다.


2) 바인드 마운트

호스트 머신(OS)의 파일이나 디렉터리를 컨테이너 내부에 직접 마운트하는 방식이다.
내부와 외부의 디렉터리가 연결되어있기 때문에 호스트 머신 쪽의 코드를 수정하게되면 컨테이너 내부에도 똑같이 반영되는데, 
이러한 방식은 개발 환경에서 소스 코드나 설정 파일을 실시간으로 변경하고 테스트 할 때 유용하게 사용된다.


- 차이점 요약

1) 볼륨은 도커가 직접 관리하는 저장소로, 데이터의 영속성 및 컨테이너 간 데이터 공유에 적합하다.
2) 바인드 마운트는 호스트의 특정 디렉터리와 컨테이너를 연결하는 방식으로, 호스트의 리소스를 실시간으로 활용할 때 주로 사용된다.
3) 데이터의 안전성 및 유지 측면에서는 볼륨이 더 나은 선택이며, 호스트 파일 시스템과의 연계가 필요할 때는 바인드 마운트가 유용하다.

 
- 볼륨 마운트(Volume Mount)

1) 개념
볼륨 마운트: 도커가 관리하는 저장소(볼륨)를 컨테이너에 연결하여 사용.


- 볼륨 마운트 vs 바인드 마운트

"볼륨 마운트"는 도커가 관리하는 저장소(볼륨)를 사용하여 데이터를 저장하고 관리하는 방식이다. 
이 방식은 호스트-컨테이너 간뿐만 아니라 컨테이너-컨테이너 간의 데이터 공유에도 적합하다.
반면에, "바인드 마운트"는 호스트 시스템의 특정 디렉터리나 파일을 컨테이너와 연결하는 방식으로, 주로 호스트-컨테이너 간의 데이터를 관리할 때 사용된다.
따라서 "호스트-컨테이너 간의 데이터 관리"라는 표현은 바인드 마운트에 더 적합한 설명이지만, 볼륨 마운트도 같은 역할을 할 수 있다. 
볼륨 마운트는 특히 컨테이너 간의 데이터 공유와 데이터 영속성을 필요로 할 때 적합하다는 것이 핵심이다.


















