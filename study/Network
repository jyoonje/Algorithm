네트워크 정리
- 컴퓨터간의 통신 방법: 물리적 연결 또는 전자기파를 이용한 전기신호로 이진법을 이용하여 통신한다.


- Local Area Network


1. HUB: Local Area Network에서 여러대의 컴퓨터가 통신하기 위해 예전에 쓰이던 디바이스
HUb의 문제점: 데이터 충돌, 모든 컴퓨터에 정보 전송, ... 
(더 이상 쓰이지 않고 스위치로 대체됨)

2. MAC주소: Local Area Network에서 Hub를 이용해서 통신하던 시절, 컴퓨터A에서 정보를 전송하면 모든 컴퓨터로 정보가 전송되어 혼란을 야기하는 이슈를 해결하기 위해, 특정 컴퓨터로 보낸다는 의미를 담기 위해 각 컴퓨터마다 가지고 있는 고유의 MAC주소를 데이터에 담아서 보냄.

정의: 네트워크 인터페이스 카드에 각인된 물리적 주소.
네트워크 인터페이스 카드는 네트워크에 연결되는 모든 디바이스에 존재한다.

MAC 주소 구조: 6 bytes(48 bit)
MAC 주소 예시: fe-1b-63-84-45-26 (16진법)
* 16진법 fe == 2진법 11111110이기 때문에 6 bytes 인 것이다.
첫 3바이트는 IEEE에서 기업이나 단체에 할당.
fe-1b-63: 이 디바이스를 만든 회사
뒤의 3 바이트: 해당 회사에서 순차적으로 할당


3. 프레임(Frame): 컴퓨터A에서 B로 정보를 보낼 때 사용하는 형식.
간단한 형식: '  목적지 MAC 주소 | 소스 MAC 주소 | 데이터  '
(사실은 더 복잡하다.)


4. 스위치(Switch): HUB의 대체자로, 연결된 컴퓨터의 MAC주소를 기억하고 있다. -> 컴퓨터A 에서 B로 정보를 보내고 싶다면, 프레임에 담긴 MAC주소를 확인 후 컴퓨터B로 전송한다.(C에도 전송되는 문제 해결) 또한, Hub에서 양방향 데이터 전송 시 충돌이 일어나는 문제 또한 해결함.


- Wide Area Network

: 서로 다른 Local Area Network 사이에 통신을 위한 '라우터'가 개입하면 그 때 부터 Wide Area Network이다.

- Local Area Network (이하 LAN) 에 연결되지 않은 컴퓨터간의 통신 시, 목적지 컴퓨터의 MAC주소를 알아도 통신할 수 없기에, 라우터간의 IP주소를 사용하여 목적지 컴퓨터와 연결된 라우터와 연락을 주고받는다.(소스 컴퓨터와 목적지 컴퓨터도 IP주소를 갖는다)

* MAC주소: 하드웨어의 정보
  IP주소: 하드웨어의 위치 정보

IP주소는 사람이 직접 할당하기도, 자동적으로 할당하기도 한다.

1. 프레임과 패킷
패킷: WAN 통신 시, MAC주소만으로는 통신이 불가능하기에, 프레임의 '데이터' 영역에 IP패킷을 넣는다.

간단한 IP패킷 형식: '  목적지 IP 주소 | 소스 IP 주소 | 데이터  '
라우팅에 대해 알아보자: LAN에서 나의 라우터에 IP패킷을 감싼 프레임 전송 -> 라우터간의 통신(라우팅) 시에는 MAC주소가 필요없기에 패킷만 전송 -> 목적지 컴퓨터의 라우터에 도착 시 다시 프레임으로 감쌈 -> 목적지 컴퓨터에 도착

2. 라우터
서로다른 라우터를 사용하는 컴퓨터간의 통신 시, 만약 내 LAN의 라우터가 방금 생성되었다면, 프레임에 감싸서 정보를 전송해야 하지만 정보를 전송하는 컴퓨터는 내 라우터의 MAC 주소를 모른다. 하지만 IP주소는 안다! - IP주소는 전략적으로 할당 가능하기 때문.)
내 라우터의 IP주소를 통해서 내 라우터의 MAC주소를 알 수 있다.

3. Address Resolution Protocol (ARP)
지금 단계에서는 내 라우터의 MAC주소를 알기위한 패킷이라 생각하자. (프레임에 감싸짐)

간단한 ARP패킷 형식: 
' Operation(1. 물어보는 패킷, 2. 답장 패킷) | 보내는 이의 MAC주소 | 보내는 이의 IP주소 | 목적지의 MAC주소(물어보는 패킷일 시 00:00:00:00) | 목적지의 IP주소 '

ARP 간단한 과정:
1) 컴퓨터 A가 프레임과 request ARP 패킷 생성 
	- [ ARP request 패킷. From: 192.168.10.4 To: 192.168.10.1 이 ip주소 갖는 디바이스(여기서는 라우터)의 MAC주소가 뭐야? ]

2) 프레임과 ARP 패킷을 LAN에 있는 모든 디바이스에 브로드캐스트

3) ARP 패킷에 담긴 목적지 IP주소와 자신의 IP주소가 맞는지 모든 디바이스가 확인. 이 단계에서 라우터가 매칭된 것을 확인한다)

4) 라우터가 프레임과 자신의 MAC주소를 담은 reply ARP 패킷 생성	
- [ ARP reply 패킷. From: 192.168.10.1 To: 192.168.10.4 내 MAC 주소는 이거야. 00:1a:74:33:44:e7 ]

5) 라우터가 컴퓨터 A에 프레임과 ARP 답장 패킷 전송

6) 라우터로부터 수신한 컴퓨터 A는 프레임에 제대로 된 라우터의 MAC주소와 "IP패킷" 담은 후 라우터에 전송! -> 라우터는 다음 라우터에 전송할 수 있다.(WAN)






















