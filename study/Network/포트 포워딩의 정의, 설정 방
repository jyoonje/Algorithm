포트 포워딩(port forwarding)


포트(port): 하나의 서버가 다양한 역할(웹 사이트 전달, 파일 요청 등)을 할 경우
 클라이언트가 서버에 요청을 보냈을 때, 웹 사이트 요청인지 파일 요청인지 구분할 수 있는 수단.


포트는 0 ~ 65535번까지 존재하며, 아래와 같이 3종류로 표현된다.
- 0번 ~ 1023번: 잘 알려진 포트(well-known port)
- 1024번 ~ 49151번: 등록된 포트(registered port)
- 49152번 ~ 65535번: 동적 포트(dynamic port)


잘 알려진 포트의 대표적 예는 다음과 같다.
- 20: FTP(data)
- 21: FTP(제어)
- 22: SSH
- 23: 텔넷
- 53: DNS
- 80: 월드 와이드 맵 HTTP
- 443: TLS/SSL 방식의 HTTP

정리하자면 포트란 컴퓨터의 Lan선은 하나인데 통신을 필요로 하는 프로그램이 다수일 때 이 다수의 프로그램을 구별할 수 있는 번호가 된다.


포트 포워딩 또는 매핑이란?

: 포트 포워딩이란 컴퓨터의 네트워크에서 패킷이 라우터나 방화벽 같은 네트워크 게이트웨이를 통과하는 동안 네트워크 주소를 변환해주는 것을 의미한다. 

예를 들면, 공유기와 연결된 pc들은 192.168.x.x의 private ip를 부여받는다.
그리고 공유기는 ISP업체로부터 할당받은 public ip를 갖는다.
그런데 만약 외부에 있는 어떤 pc로부터 내부 ip에 있는 192.168.0.20 pc에 접속하고자 하는 요청이 들어왔을 때 공유기는 어떤 pc로 연결을 해주어야 할 지 모르는 상태가 된다.
이러한 상황에서 공유기의 public ip주소, 200포트로 요청이 오면 192.168.0.20 pc의 500번 포트로 연결하라는 이정표를 달아주는 것을 포트 포워딩이라고 한다.


포트 포워딩 설정하기

: 포트 포워딩 설정은 공유기에서 한다. 
1. cmd -> ipconfig -> 기본 게이트웨이(공유기 ip주소이다.)
2. 공유기 로그인 (초기 id/pwd는 admin/admin이다.)
3. Setting(관리 도구)
4. 좌측 메뉴에서 Advanced Setup -> NAT/Routing -> Port Forwarding -> Add new rule
5. Rule Name, Internal IP, External port, Internal port 채운 후 적용








